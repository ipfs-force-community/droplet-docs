(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{383:function(e,t,n){"use strict";n.r(t);var a=n(17),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"configurations-of-venus-market"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configurations-of-venus-market"}},[e._v("#")]),e._v(" Configurations of venus-market")]),e._v(" "),n("p",[e._v("A typical "),n("code",[e._v("venus-market")]),e._v(" configuration looks like this:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('\n# ****** Data transfer parameter configuration ***********\nSimultaneousTransfersForStorage = 20\nSimultaneousTransfersForStoragePerClient = 20\nSimultaneousTransfersForRetrieval = 20\n\n\n# ****** Global Basic Parameter Configuration ***********\n[CommonProvider]\n   ConsiderOnlineStorageDeals = true\n   Consider OfflineStorageDeals = true\n   ConsiderOnlineRetrievalDeals = true\n   ConsiderOfflineRetrievalDeals = true\n   ConsiderVerifiedStorageDeals = true\n   ConsiderUnverifiedStorageDeals = true\n   PieceCidBlocklist = []\n   ExpectedSealDuration = "24h0m0s"\n   MaxDealStartDelay = "336h0m0s"\n   PublishMsgPeriod = "1h0m0s"\n   MaxDealsPerPublishMsg = 8\n   MaxProviderCollateralMultiplier = 2\n   Filter = ""\n   RetrievalFilter = ""\n   TransferPath = ""\n   MaxPublishDealsFee = "0 FIL"\n   MaxMarketBalanceAddFee = "0 FIL"\n   RetrievalPaymentAddress = ""\n   DealPublishAddress = []\n   [CommonProvider. RetrievalPricing]\n     Strategy = "default"\n     [CommonProvider. RetrievalPricing. Default]\n       VerifiedDealsFreeTransfer = true\n     [CommonProvider. RetrievalPricing. External]\n       Path = ""\n    \n\nEach miner can have independent basic parameters. If there is no configuration, the global configuration will be used. The configuration options are as follows:\n\n# ****** Miner Basic Parameter Configuration ********\n[[Miners]]\n   Addr = "f01000"\n   Account = "testuser01"\n  \n    ConsiderOnlineStorageDeals = true\n    ConsiderOfflineStorageDeals = true\n    ConsiderOnlineRetrievalDeals = true\n    ConsiderOfflineRetrievalDeals = true\n    ConsiderVerifiedStorageDeals = true\n    ConsiderUnverifiedStorageDeals = true\n    PieceCidBlocklist = []\n    ExpectedSealDuration = "24h0m0s"\n    MaxDealStartDelay = "336h0m0s"\n    PublishMsgPeriod = "1h0m0s"\n    MaxDealsPerPublishMsg = 8\n    MaxProviderCollateralMultiplier = 2\n    Filter = ""\n    RetrievalFilter = ""\n    TransferPath = "/mnt/transfer"\n    MaxPublishDealsFee = "0 FIL"\n    MaxMarketBalanceAddFee = "0 FIL"\n    RetrievalPaymentAddress = ""\n    DealPublishAddress = []\n    [CommonProvider. RetrievalPricing]\n      Strategy = "default"\n      [CommonProvider. RetrievalPricing. Default]\n        VerifiedDealsFreeTransfer = true\n      [CommonProvider. RetrievalPricing. External]\n        Path = ""\n\n# ****** venus-market network configuration ***********\n[API]\n   ListenAddress = "/ip4/127.0.0.1/tcp/41235"\n   RemoteListenAddress = ""\n   Secret = "e647ee23cf95424162b974cd641b6a6479cbc7cb1209cc755f762c8248d50ba4"\n   Timeout = "30s"\n\n[Libp2p]\n   ListenAddresses = ["/ip4/0.0.0.0/tcp/58418", "/ip6/::/tcp/0"]\n   AnnounceAddresses = []\n   NoAnnounceAddresses = []\n   PrivateKey = "08011240d47934b6fccf8b79786335a55ccc04bdb9c92866cae2c0cea2fdefe0f2e7c18650dfbde5dd126c2a23a0d1c60686d3dedd064b67ba97c6161dd8007f0675e"\n\n\n# ****** Venus Chain Service Configuration ***********\n[Node]\n   Url = "/ip4/192.168.200.151/tcp/3453"\n   Token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoidGVzdC11c2VyMDEiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.ETjNy3HMDS3ScZ3cax9xYb6AopNWYp4y71lZGCvYxMg"\n\n[Messager]\n   Url = "/ip4/127.0.0.1/tcp/39812"\n   Token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoidGVzdC11c2VyMDEiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.ETjNy3HMDS3ScZ3cax9xYb6AopNWYp4y71lZGCvYxMg"\n\n[Signer]\n   Type = "gateway"\n   Url = "/ip4/127.0.0.1/tcp/45132"\n   Token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoidGVzdC11c2VyMDEiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.ETjNy3HMDS3ScZ3cax9xYb6AopNWYp4y71lZGCvYxMg"\n\n[AuthNode]\n   Url = "http://127.0.0.1:8989"\n   Token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoidGVzdC11c2VyMDEiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.ETjNy3HMDS3ScZ3cax9xYb6AopNWYp4y71lZGCvYxMg"\n\n\n\n# ********** Database Settings ********\n[Mysql]\nConnectionString = ""\nMaxOpenConn = 100\nMaxIdleConn = 100\nConnMaxLifeTime = "1m"\nDebug = false\n\n\n# ********* Sector Storage Setting ***********\n[Piece Storage]\nS3 = []\n\n[[PieceStorage. Fs]]\nName = "local"\nReadOnly = false\nPath = "./.vscode/test"\n\n\n# *********** Log Settings ***********\n[Journal]\nPath = "journal"\n\n\n# ********** DAG Storage Settings ********\n\n[DAGStore]\nRootDir = "/root/.venusmarket/dagstore"\nMaxConcurrentIndex = 5\nMaxConcurrentReadyFetches = 0\nMaxConcurrencyStorageCalls = 100\nGCInterval = "1m0s"\nTransient = ""\nIndex = ""\nUse Transient = false\n\n\n# ********** Data Retrieval Configuration ********\n\nRetrievalPaymentAddress = ""\n\n\n\n# ****** Metric Configuration ***********\n[Metrics]\n   Enabled = false\n   [Metrics. Exporter]\n     Type = "prometheus"\n     [Metrics. Exporter. Prometheus]\n       RegistryType = "define"\n       Namespace = ""\n       EndPoint = "/ip4/0.0.0.0/tcp/4568"\n       Path = "/debug/metrics"\n       ReportingPeriod = "10s"\n     [Metrics. Exporter. Graphite]\n       Namespace = ""\n       Host = "127.0.0.1"\n       Port = 4568\n       ReportingPeriod = "10s"\n\n')])])]),n("p",[e._v("Next, using the above as the base, we will walk you through basic parameters, network configuration, Venus component configuration and other configuration options.")]),e._v(" "),n("h2",{attrs:{id:"data-transfer-parameter-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#data-transfer-parameter-configuration"}},[e._v("#")]),e._v(" Data Transfer Parameter Configuration")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# Store the maximum number of simultaneous transfers for storage deals\n# Integer type, default: 20\nSimultaneousTransfersForStorage = 20\n\n# The maximum number of simultaneous transfers of storage deal per client\n# Integer type, default: 20\nSimultaneousTransfersForStoragePerClient = 20\n\n# The maximum number of simultaneous data transfers\n# Integer type, default: 20\nSimultaneousTransfersForRetrieval = 20\n")])])]),n("h2",{attrs:{id:"basic-parameter-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#basic-parameter-configuration"}},[e._v("#")]),e._v(" Basic Parameter Configuration")]),e._v(" "),n("p",[e._v("The configuration mainly sets the preferences of how the market service should work. The functions of each configuration options are as follows:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('# Whether to accept online storage deals\n# Boolean value, defaults to true\nConsiderOnlineStorageDeals = true\n\n# Whether to accept offline storage deals\n# Boolean value, defaults to true\nConsiderOfflineStorageDeals = true\n\n# Whether to accept online data retrieval requests\n# Boolean value, defaults to true\nConsiderOnlineRetrievalDeals = true\n\n# Decide whether to accept offline data retrieval requests\n# Boolean value, defaults to true\nConsiderOfflineRetrievalDeals = true\n\n# Whether to accept verified storage deals\n# Boolean value, defaults to true\nConsiderVerifiedStorageDeals = true\n\n# Whether to accept unverified storage deals\n# Boolean value, defaults to true\nConsiderUnverifiedStorageDeals = true\n\n# Storage deal data blacklist\n# string array where each string is a CID, the default is empty\n# CID data in the blacklist will not be used to fullfil deals\nPieceCidBlocklist = []\n\n# The maximum expected time for the storage deal to be sealed\n# Time string, default: "24h0m0s"\n# The time string is a string composed of numbers and time units. Numbers include integers and decimals. Legal units include "ns", "us" (or "Âµs"), "ms", "s", "m" , "h".\nExpectedSealDuration = "24h0m0s"\n\n# Max delay before starting sealing a storage deal\n# Time string, default: "336h0m0s"\nMaxDealStartDelay = "336h0m0s"\n\n# Periods between publishing messages\n# Time string Default: "1h0m0s"\nPublishMsgPeriod = "5m0s"\n\n# The maximum number of deals in a publish message\n# Integer type, default is 8\nMaxDealsPerPublishMsg = 8\n\n# Maximum storage provider collateral multiplication factor\n# Integer type, default: 2\nMaxProviderCollateralMultiplier = 2\n\n# Filter storage deals through external executors, which can be executable programs or scripts\nFilter = ""\n\n# Filter retrieval requests through external executors, which can be executable programs or scripts\nRetrievalFilter = ""\n\n# Storage location of transferred deal data\n# string type, optional, when it is empty, the path of `MARKET_REPO` is used by default\nTransferPath = ""\n\n# Maximum fee for sending deal related messages\n# FIL type, default: "0 FIL"\n# The format of the FIL type string is integer + " FIL"\nMaxPublishDealsFee = "0 FIL"\n\n# The maximum fee spent when sending escrow related message\n# FIL type, default: "0 FIL"\nMaxMarketBalanceAddFee = "0 FIL"\n\n# Reserved fields, this configuration option is invalid\n[Retrieval Pricing]\n\n# The type of strategy to use\n# String type, you can choose "default" and "external", the default is: "default"\n# The former uses the built-in default strategy, and the latter uses the strategy customized by the script provided externally\nStrategy = "default"\n\n[RetrievalPricing.Default]\n\n# For verified storage deal, whether the price is 0\n# boolean, defaults to "true"\n# Only taking effects when Strategy = "default" \nVerifiedDealsFreeTransfer = true\n\n[RetrievalPricing.External]\n# Path to scripts that define external policies\n# String type, Required if external strategy is selected\nPath = ""\n\n# This setting is a reserved field and is currently invalid\n[AddressConfig]\n\n# Whether to lower the priority of using the woker address to publish messages, if set to true, the woker address will be used to send messages only if there are no other applicable addresses\n# Boolean, default is false\nDisableWorkerFallback = false\n\n[[AddressConfig. DealPublishControl]]\n\n# Address to publish deal messages\n# string type, required\nAddr = ""\n\n# The account holding the corresponding address\n# string type, required\nAccount=""\n')])])]),n("h2",{attrs:{id:"venus-market-network-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-market-network-configuration"}},[e._v("#")]),e._v(" venus-market Network Configuration")]),e._v(" "),n("p",[e._v("This part of the configuration determines the interface between the venus-market and others")]),e._v(" "),n("h3",{attrs:{id:"api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" [API]")]),e._v(" "),n("p",[e._v("The interface that market provides external services")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[API]\n# Market address where the service listens\n# String type, required, default: "/ip4/127.0.0.1/tcp/41235"\nListenAddress = "/ip4/127.0.0.1/tcp/41235"\n\n# reserved text\nRemoteListenAddress = ""\n\n# token used for encrypted communication\n# String type, optional (automatically generated if there is none)\nSecret = "878f9c1f88c6f68ee7be17e5f0848c9312897b5d22ff7d89ca386ed0a583da3c"\n\n# reserved text\nTimeout = "30s"\n')])])]),n("h3",{attrs:{id:"libp2p"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#libp2p"}},[e._v("#")]),e._v(" [Libp2p]")]),e._v(" "),n("p",[e._v("The communication address used by the Market when communicating in the P2P network")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Libp2p]\n# Listening network address\n# string array, required default: ["/ip4/0.0.0.0/tcp/58418", "/ip6/::/tcp/0"]\nListenAddresses = ["/ip4/0.0.0.0/tcp/58418", "/ip6/::/tcp/0"]\n\n# reserved text\nAnnounceAddresses = []\n\n# reserved text\nNoAnnounceAddresses = []\n\n# token used to generate peerid for p2p connections\n# string, optional (automatically generated if not set)\nPrivateKey = "08011240ae580daabbe087007d2b4db4e880af10d582215d2272669a94c49c854f36f99c35"\n')])])]),n("h2",{attrs:{id:"venus-chain-service-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-chain-service-configuration"}},[e._v("#")]),e._v(" Venus Chain Service Configuration")]),e._v(" "),n("p",[e._v("When accessing Venus Chain Service, the API of the relevant component needs to be configured.")]),e._v(" "),n("h3",{attrs:{id:"node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[e._v("#")]),e._v(" [Node]")]),e._v(" "),n("p",[e._v("Venus chain service access configuration")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Node]\n# Chain service\n# String type, Mandatory (can also be configured directly through the --node-url flag of the command line)\nUrl = "/ip4/192.168.200.128/tcp/3453"\n\n# Authentication token of Venus chain service\n# String type, Mandatory (can also be configured directly through the --auth-token flag of the command line)\nToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZm9yY2VuZXQtbnYxNiIsInBlcm0iOiJhZG1pbiIsImV4dCI6IiJ9.PuzEy1TlAjjNiSUu_tbHi2XPUritDLm9Xf5UW3MHRe8"\n\n')])])]),n("h3",{attrs:{id:"messager"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#messager"}},[e._v("#")]),e._v(" [Messager]")]),e._v(" "),n("p",[e._v("venus message service access configuration")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Messager]\n# Message service\n# String type, optional (can also be configured directly through the --messager-url flag on the command line) It can be left blank when not connecting to the chain service\nUrl = "/ip4/192.168.200.128/tcp/39812/"\n\n# Authentication token of Venus chain service \n# String type, optional (can also be configured directly through the --auth-token flag of the command line) It can be left blank when not connecting to the chain service\nToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZm9yY2VuZXQtbnYxNiIsInBlcm0iOiJhZG1pbiIsImV4dCI6IiJ9.PuzEy1TlAjjNiSUu_tbHi2XPUritDLm9Xf5UW3MHRe8"\n')])])]),n("h3",{attrs:{id:"signer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#signer"}},[e._v("#")]),e._v(" [Signer]")]),e._v(" "),n("p",[e._v("Accessing Venus signature service, which can be of two types: signature services directly provided by venus-wallet and indirect signature services provided by venus-gateway")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Signer]\n# Type of signature service\n# String type enumeration: "gateway", "wallet", "lotusnode"\nType = "gateway"\n\n# Signature service\n# String type, Mandatory (can also be configured directly through the --signer-url flag on the command line)\nUrl = "/ip4/192.168.200.128/tcp/45132/"\n\n# Authentication token of Venus chain service\n# String type, Mandatory (can also be configured directly through the --auth-token flag of the command line)\nToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZm9yY2VuZXQtbnYxNiIsInBlcm0iOiJhZG1pbiIsImV4dCI6IiJ9.PuzEy1TlAjjNiSUu_tbHi2XPUritDLm9Xf5UW3MHRe8"\n')])])]),n("h3",{attrs:{id:"authnode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#authnode"}},[e._v("#")]),e._v(" [AuthNode]")]),e._v(" "),n("p",[e._v("Venus authentication service access configuration")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[AuthNode]\n\n# Authentication service\n# String typeï¼ Optional (can also be configured directly through the --signer-url flag of the command line) It can be left blank when not connecting to the chain service\nUrl = "http://192.168.200.128:8989"\n\n# Authentication token of Venus chain service\n# String type, Optional (can also be configured directly through the --auth-token flag of the command line) It can be left blank when not connecting to the chain service\nToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZm9yY2VuZXQtbnYxNiIsInBlcm0iOiJhZG1pbiIsImV4dCI6IiJ9.PuzEy1TlAjjNiSUu_tbHi2XPUritDLm9Xf5UW3MHRe8"\n')])])]),n("h2",{attrs:{id:"miner-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#miner-configuration"}},[e._v("#")]),e._v(" Miner Configuration")]),e._v(" "),n("p",[e._v("Preset miner information")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[[Miners]]\n# Miner\'s address\n# string type, required\nAddr=""\n\n# account name\n# string type required\nAccount = ""\n\n# Basic parameters, see above\n')])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Basic parameters will use "),n("code",[e._v("CommonProvider")]),e._v(" when not configured, which is as follows:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[[Miners]]\n   Addr = "f02472"\n   Account = "litao"\n')])])]),n("p",[e._v("If one of the basic parameters is configured, then all items must be configured. For example:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[[Miners]]\n   Addr = "f02472"\n   Account = "litao"\n   TransferPath = "/mnt/transfer/2472"\n')])])]),n("p",[e._v("Such a configuration will cause other configuration items in the basic parameters to have zero values, instead of using the configuration in default "),n("code",[e._v("CommonProvider")]),e._v(".\nFor example, "),n("code",[e._v("ConsiderOnlineStorageDeals")]),e._v(" corresponding to "),n("code",[e._v("f02472")]),e._v(" will be equal to "),n("code",[e._v("false")]),e._v(", not "),n("code",[e._v("true")]),e._v(" in "),n("code",[e._v("CommonProvider")]),e._v(".")]),e._v(" "),n("p",[e._v("At this point, it requires special attention. The correct configuration are as following:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[[Miners]]\n   Addr = "f02472"\n   Account = "litao"\n   TransferPath = "/mnt/transfer/2472"\n   ConsiderOnlineStorageDeals = true\n   ConsiderOfflineStorageDeals = true\n   ConsiderOnlineRetrievalDeals = true\n   ConsiderOfflineRetrievalDeals = true\n   ConsiderVerifiedStorageDeals = true\n   ConsiderUnverifiedStorageDeals = true\n   PieceCidBlocklist = []\n   ExpectedSealDuration = "24h0m0s"\n   MaxDealStartDelay = "336h0m0s"\n   PublishMsgPeriod = "1m0s"\n   MaxDealsPerPublishMsg = 8\n   MaxProviderCollateralMultiplier = 2\n   Filter = ""\n   RetrievalFilter = ""\n   MaxPublishDealsFee = "0 FIL"\n   MaxMarketBalanceAddFee = "0 FIL"\n   RetrievalPaymentAddress = ""\n   [Retrieval Pricing]\n     Strategy = "default"\n     [RetrievalPricing. Default]\n       VerifiedDealsFreeTransfer = true\n     [RetrievalPricing.External]\n       Path = ""\n')])])]),n("p",[e._v("This is not very flexible, and will be considered for optimization in the future.")])]),e._v(" "),n("h2",{attrs:{id:"database-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#database-configuration"}},[e._v("#")]),e._v(" Database Configuration")]),e._v(" "),n("p",[e._v("The setting of the storage database for the data generated during the operation of the venus-market.\nBadgerDB and MySQLDB are currently supported, and BadgerDB is used by default.")]),e._v(" "),n("h3",{attrs:{id:"mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" [Mysql]")]),e._v(" "),n("p",[e._v("MySQLDB configuration")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Mysql]\n\n# The connection string used to connect to the MySQL database\n# String type, If you want to use MySQL database, this is required, otherwise use the default BadgerDB\nConnectionString = ""\n\n# Maximum number of open connections\n# Integer type, defaults to 100\nMaxOpenConn = 100\n\n# Maximum number of idle connections\n# Integer type, defaults to 100\nMaxIdleConn = 100\n\n# The maximum lifetime of a reusable connection\n# time string, default: "1m"\n# The time string is a string composed of numbers and time units. Numbers include integers and decimals. Legal units include "ns", "us" (or "Âµs"), "ms", "s", "m" , "h".\nConnMaxLifeTime = "1m"\n\n# Whether to output database-related debugging information\n# boolean default, false\nDebug = false\n')])])]),n("h2",{attrs:{id:"sector-storage-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sector-storage-configuration"}},[e._v("#")]),e._v(" Sector Storage Configuration")]),e._v(" "),n("p",[e._v("Configure the storage space of imported data from venus-market.\nTwo types of data storage are supported: file system storage or object storage.")]),e._v(" "),n("h3",{attrs:{id:"piecestorage-fs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#piecestorage-fs"}},[e._v("#")]),e._v(" [[PieceStorage. Fs]]")]),e._v(" "),n("p",[e._v("Configure the local file system as sector storage\nFor sectors with a large amount of data, it is recommended to mount the file system shared with venus-cluster")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Piece Storage]\n[[PieceStorage. Fs]]\n\n# The name of the storage space, which must be unique among all storage spaces in the market\n# string type, required\nName = "local"\n\n# Whether the storage space is writable (readOnly=false means writable)\n# boolean, default is false\nReadOnly = false\n\n# The path of the storage space in the local file system\n# string type, required\nPath = "/piecestorage/"\n\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Piece Storage]\n[[PieceStorage.S3]]\n# The name of the storage space, which must be unique among all storage spaces in the market\n# string type, required\nName = "s3"\n\n# Whether the storage space is writable (readOnly=false means writable)\n# boolean, default is false\nReadOnly = true\n\n# Object storage service\n# string type, required\n# Support individual EndPoint ("oss-cn-shanghai.aliyuncs.com") or complete EndPoint Url ("http://oss-cn-shanghai.aliyuncs.com")\nEndPoint = "oss-cn-shanghai.aliyuncs.com"\n\n# Bucket name of the object storage service\n# string type, required\nBucket = "venus-market"\n\n# Specify the subdirectory in the Bucket\n# string type, optional\nSubDir = "dir1/dir2"\n\n# Access the parameters of the object storage service\n# String type, AccessKey and SecretKey are mandatory, and Token is optional\nAccessKey = "LTAI5t6HiFgsqN6eVJ..."\nSecretKey = "AlFNH9NakUsVjVRxMHaaYP7p..."\nToken = ""\n\n')])])]),n("h2",{attrs:{id:"log-settings"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#log-settings"}},[e._v("#")]),e._v(" Log Settings")]),e._v(" "),n("p",[e._v("Configure the location where the log is stored during the use of the market.")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('[Journal]\n\n# The location of the log storage\n# String type, The default is: "journal" (that is, the journal folder under the `MARKET_REPO` folder)\nPath = "journal"\n')])])]),n("h2",{attrs:{id:"dag-storage-settings"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dag-storage-settings"}},[e._v("#")]),e._v(" DAG Storage Settings")]),e._v(" "),n("p",[e._v("Configuration of the DAG datastore.")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('# Refer to github.com/filecoin-project/dagstore/dagstore.go\n[DAGStore]\n\n# The root directory of the DAG data store\n# String type, Default: "<MARKETS_REPO_PATH>/dagstore"\nRootDir = "/root/.venusmarket/dagstore"\n\n# The maximum number of index jobs that can be performed at the same time\n# Integer type, defaults to 5, 0 means unlimited\nMaxConcurrentIndex = 5\n\n# The maximum number of unsealed deals that can be fetched at the same time\n# Integer type, defaults to 0, 0 means unlimited\nMaxConcurrentReadyFetches = 0\n\n# The maximum number of storage APIs that can be called simultaneously\n# Integer type, defaults to 100\nMaxConcurrencyStorageCalls = 100\n\n# DAG data garbage collection interval\n# time string, default: "1m0s"\n# The time string is a string composed of numbers and time units. Numbers include integers and decimals. Legal units include "ns", "us" (or "Âµs"), "ms", "s", "m" , "h".\nGCInterval = "1m0s"\n\n# Storage path for temporary files\n# string type, optional, if not set, the \'transients\' folder in the RooDir directory will be used\nTransient = ""\n\n# Path to store sector index data\n# String type, optional, if not set, the \'index\' folder under the RooDir directory will be used\nIndex = ""\n\n# Do not use local cache, read data source directly\n# Boolean type, defaults to false\nUse Transient = false\n')])])]),n("h2",{attrs:{id:"data-retrieval"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#data-retrieval"}},[e._v("#")]),e._v(" Data Retrieval")]),e._v(" "),n("p",[e._v("Relevant configuration when obtaining the sector data stored in the deal")]),e._v(" "),n("h3",{attrs:{id:"retrievalpaymentaddress"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#retrievalpaymentaddress"}},[e._v("#")]),e._v(" [RetrievalPaymentAddress]")]),e._v(" "),n("p",[e._v("The receiving address used for retrieval requests")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('RetrievalPaymentAddress = ""\n')])])]),n("h2",{attrs:{id:"metric-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#metric-configuration"}},[e._v("#")]),e._v(" Metric Configuration")]),e._v(" "),n("p",[e._v("Configure Metric-related parameters.")]),e._v(" "),n("div",{staticClass:"language-toml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-toml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("Metrics")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Whether to enable Metric")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# boolean, default is false")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Enabled")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Metric export settings")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("Metrics. Exporter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The type of Metric export")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# String type, Optional values are "prometheus" and "graphite" Default is "prometheus"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Type")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"prometheus"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Prometheus export settings")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("Metrics.Exporter.Prometheus")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# type of register")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# String type, Optional, values are "define" and "default"; Default is "define"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# define: use new registry; default: use default registry provided by Prometheus")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("RegistryType")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"define"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Namespaces")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# string type, defaults to ""')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Namespace")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# listen address")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# String type, Default is "/ip4/0.0.0.0/tcp/4568"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("EndPoint")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/ip4/0.0.0.0/tcp/4568"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The access path of the Metrics indicator")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# string type, defaults to "/debug/metrics"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Path")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/debug/metrics"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Metric index aggregation cycle")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# time string, defaults to "10s"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("ReportingPeriod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"10s"')]),e._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Graphite export settings")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),n("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("Metrics. Exporter. Graphite")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Namespaces")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# string type, defaults to ""')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Namespace")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# listen address")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# String type, Default is "127.0.0.1"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Host")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"127.0.0.1"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Listen port")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# integer type, default is 4568")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("Port")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("4568")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Metric index aggregation cycle")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# time string, defaults to "10s"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token key property"}},[e._v("ReportingPeriod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"10s"')]),e._v("\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);